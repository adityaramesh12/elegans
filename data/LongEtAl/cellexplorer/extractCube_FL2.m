function [outcube,xxmin, yymin, zzmin] = extractCube_FL2(inimg, pos)%function [outcube,xxmin, yymin, zzmin] = extractCube_FL2(inimg, pos)% Find the binary bounding cube of inimg. % Copyright Hanchuan Peng and Fuhui Long% latest update 20051208sz = size(inimg);if length(sz)~=3,    error('The image must be 3D in this function.');end;[yy, xx, zz] = ind2sub(sz, pos);xxmin = min(xx);xxmax = max(xx);yymin = min(yy);yymax = max(yy);zzmin = min(zz);zzmax = max(zz);sz_cube = [yymax-yymin+1, xxmax-xxmin+1, zzmax-zzmin+1];outcube = inimg(yymin:yymax, xxmin:xxmax, zzmin:zzmax);outcube(:) = 0;outcube(sub2ind(sz_cube, yy-yymin+1, xx-xxmin+1, zz-zzmin+1)) = inimg(pos);return;